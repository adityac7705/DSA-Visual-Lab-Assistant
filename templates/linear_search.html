<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linear Search Visualizer</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #121212;
            color: #e5e7eb;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 1rem;
        }

        .container {
            width: 100%;
            max-width: 42rem;
            background-color: #1f2937;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border: 1px solid #374151;
        }

        h1 {
            font-size: 3rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 1.5rem;
            color: #a78bfa;
            font-family: Georgia, 'Times New Roman', Times, serif;
        }

        p {
            text-align: center;
            color: #9ca3af;
            margin-bottom: 2rem;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: #d1d5db;
        }

        input {
            display: block;
            width: 100%;
            border-radius: 0.375rem;
            border: 1px solid #4b5563;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            padding: 0.75rem;
            background-color: #374151;
            color: #d1d5db;
        }

        input:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 1px #6366f1, 0 0 0 1px rgba(99, 102, 241, 0.5);
        }

        .button {
            width: 100%;
            padding: 0.75rem 1rem;
            background-color: #a855f7;
            color: white;
            font-weight: 600;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition-property: transform;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 200ms;
            transform-origin: center;
        }

        .button:hover {
            background-color: #9333ea;
            transform: scale(1.05);
        }

        .visualization-area {
            margin-top: 2.5rem;
        }

        .visualization-area h2 {
            font-size: 1.5rem;
            font-weight: 600;
            text-align: center;
            color: #d9d1db;
            margin-bottom: 1.5rem;
        }

        .array-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
        }

        .array-item {
            width: 4rem;
            height: 4rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            font-size: 1.25rem;
            border-radius: 0.5rem;
            transition: transform 0.3s ease-in-out, background-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
            background-color: #a78bfa;
            color: #3730a3;
        }

        .array-item.checking {
            background-color: #fcd34d;
            transform: scale(1.1);
        }

        .array-item.found {
            background-color: #34d399;
            color: white;
            transform: scale(1.1);
        }

        .status-message {
            margin-top: 2rem;
            font-size: 1.125rem;
            font-weight: 500;
            text-align: center;
            color: #d1d5db;
            padding: 1rem;
            border-radius: 0.5rem;
            background-color: #374151;
            border: 1px solid #4b5563;
        }

        .theory {
            color: #d1d5db;
            text-align: justify;
        }
        .steps{
            margin: 5px 0;
            text-align: justify;
            color: #d1d5db;
        }
        #s1{
            font-size: 1.5rem;
            text-decoration: underline;
        }
        #heading{
            text-align: center;
            font-size: 2rem;
            font-family: Georgia, 'Times New Roman', Times, serif;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Linear Search Visualizer</h1>
        <p class="theory">Linear search is the most basic searching technique that checks each element in a list
            sequentially until the desired element is found or the list ends. It can be applied to both sorted and
            unsorted data, making it versatile but not efficient for large datasets. The algorithm has a time complexity
            of O(n) and a space complexity of O(1), which means it requires no extra memory. Although simple to
            implement, it is mainly suitable for small datasets.</p>
        <p class="steps" id="s1">How to solve linear search</p>    
        <p class="steps">step 1: Start from the first element of the array.</p>
        <p class="steps">step 2: Compare the current element with the target element.</p>
        <p class="steps">step 3: If they match, return the index (or position) of the element.</p>
        <p class="steps">step 4: If not, move to the next element in the list.</p>
        <p class="steps">step 5: Repeat steps 2â€“4 until you either find the element or reach the end of the list.</p>
        <p class="steps"> step 6: If the end is reached without a match, return "not found</p><br>
        <h2 id="heading">Visualization</h2>

        <div class="input-group">
            <div>
                <label for="arrayInput">Array (comma-separated):</label>
                <input type="text" id="arrayInput" placeholder="1,2,3,4,5...">
            </div>
            <div>
                <label for="targetInput">Target Value:</label>
                <input type="number" id="targetInput" placeholder="4">
            </div>
            <button id="startButton" class="button">
                Start Search
            </button>
        </div>
        <div id="visualization" class="visualization-area">
            <div id="arrayContainer" class="array-container">
            </div>
            <div id="statusMessage" class="status-message">
                Awaiting search...
            </div>
        </div>
    </div>
    <script>
        const arrayInput = document.getElementById('arrayInput');
        const targetInput = document.getElementById('targetInput');
        const startButton = document.getElementById('startButton');
        const arrayContainer = document.getElementById('arrayContainer');
        const statusMessage = document.getElementById('statusMessage');
        function parseArray(input) {
            return input.split(',').map(item => Number(item.trim())).filter(item => !isNaN(item));
        }
        function renderArray(arr) {
            arrayContainer.innerHTML = '';
            arr.forEach((value, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.classList.add('array-item');
                itemDiv.id = `item-${index}`;
                itemDiv.textContent = value;
                arrayContainer.appendChild(itemDiv);
            });
        }
        async function startSearch() {
            const arr = parseArray(arrayInput.value);
            const target = Number(targetInput.value);
            renderArray(arr);
            statusMessage.textContent = 'Starting linear search...';
            try {
                const response = await fetch('/process', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        algorithm: 'linear_search',
                        array: arr,
                        target: target
                    })
                });
                if (!response.ok) {
                    const errorData = await response.json();
                    statusMessage.textContent = `Error: ${errorData.error}`;
                    console.error('Server error:', errorData.error);
                    return;
                }
                const data = await response.json();
                const steps = data.result;
                for (let i = 0; i < steps.length; i++) {
                    setTimeout(() => {
                        const step = steps[i];
                        const currentIndex = step.index;
                        if (i > 0) {
                            const prevStep = steps[i - 1];
                            const prevItem = document.getElementById(`item-${prevStep.index}`);
                            if (prevItem) {
                                prevItem.classList.remove('checking');
                            }
                        }
                        if (step.status === 'checking') {
                            const currentItem = document.getElementById(`item-${currentIndex}`);
                            if (currentItem) {
                                currentItem.classList.add('checking');
                            }
                            statusMessage.textContent = `Checking index ${currentIndex} with value ${step.value}...`;
                        } else if (step.status === 'found') {
                            const currentItem = document.getElementById(`item-${currentIndex}`);
                            if (currentItem) {
                                currentItem.classList.add('found');
                                currentItem.classList.remove('checking');
                            }
                            statusMessage.textContent = `Found! The target value ${step.value} is at index ${currentIndex}.`;
                        } else if (step.status === 'not_found') {
                            statusMessage.textContent = `Target value ${target} was not found in the array.`;
                        }
                    }, i * 700);
                }
            } catch (error) {
                statusMessage.textContent = `Network error: ${error.message}`;
                console.error('Fetch error:', error);
            }
        }
        startButton.addEventListener('click', startSearch);
        document.addEventListener('DOMContentLoaded', () => {
            const initialArray = parseArray(arrayInput.value);
            renderArray(initialArray);
        });
    </script>
</body>

</html>